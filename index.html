<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta http-equiv="X-UA-Compatible" content="ie=edge">
	<title>AMap</title>
	<link rel="stylesheet" href="https://cache.amap.com/lbs/static/main1119.css"/>
	<script type="text/javascript" src="https://cache.amap.com/lbs/static/addToolbar.js"></script>

	<style>
		body {
			margin: 0;
			padding: 0;
			height: 100%;
		}

		#container {
			height: 480px;
		}
	</style>
</head>
<body>

	<div id="container"></div>

	<script>
		function onApiLoaded() {
			//初始化地图对象，加载地图
			var map = new AMap.Map("container", {
        resizeEnable: true,
        zoom: 13
			});
			var lnglat1 = new AMap.LngLat(114.306812,30.60844)
			var lnglat2 =  new AMap.LngLat(114.341659,30.554055)
			new AMap.Marker({
					map: map,
					position: lnglat1
			});
			new AMap.Marker({
					map: map,
					position:lnglat2
			});
		new AMap.Polyline({
				map:map,
					strokeColor:'red',
				path:[lnglat1,lnglat2]
			})
			
			new AMap.Text({
					text:'两点相距'+Math.round(lnglat1.distance(lnglat2))+'米',
					position:lnglat1.divideBy(2).add(lnglat2.divideBy(2)),
					map:map,
					style:{'background-color':'#ccccff',
					'border-color':'green',
					'font-size':'12px'}
			})
			map.setFitView();
		}

		var url = 'http://webapi.amap.com/maps?v=1.4.7&key=cad7df78081487c83ede86bd4d126384&callback=onApiLoaded';
    var jsapi = document.createElement('script');
    jsapi.charset = 'utf-8';
    jsapi.src = url;
    document.head.appendChild(jsapi);

	</script>

</body>
</html>